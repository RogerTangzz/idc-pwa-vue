# 变更记录

本文件记录了将原始的 **IDC PWA 2.5** 功能迁移到基于 Vue 3 的
**idc‑pwa‑vue** 项目中的主要工作、修复与改进建议。版本号仅用于标识
迁移迭代阶段，并不对应正式发布版本。

## 0.2.0 — 2025‑08‑02

### 新增

- **认证模块**：实现了 `LoginView.vue` 和 `RegisterView.vue`，提供基本的
  用户登录和注册功能，并通过 `useAuthStore` 将用户数据持久化到
  `localStorage`。注册时支持角色选择（管理员、巡检员、运维工程师）。
- **导航菜单**：新增 `NavigationMenu.vue`，使用 Element Plus 的菜单组
  件构建侧边导航栏，对应原系统中的各功能入口；支持当前路由高亮。
- **根组件布局**：重写 `App.vue`，根据当前路由自动切换认证页和主
  应用壳，包含顶部标题栏、用户信息及退出按钮、侧边菜单和内容区。
- **标签管理**：新增 `useTagStore.ts` 及 `TagList.vue`，实现标签的增
  加、修改、删除及列表展示，数据持久化于 `localStorage`。原系统中
  的“标签”功能得以迁移。
- **全局样式**：新增 `src/assets/styles/element.scss`，重置页面基
  本样式，调整过滤器区域间距，并定义默认字体。
- **占位页面**：保留并补齐资产、巡检、通知、知识库、消息、报表、
  用户、日志等模块的占位页，便于后续开发。
- **图标支持**：集成 `@element-plus/icons-vue` 并在导航菜单中使用多
  个图标以提升可读性。

### 改进

- 路由配置中新增了标签页的懒加载导入，并配置登录/注册页面为公
  共路由，其余路径必须登录后方可访问。
- 调整了任务与工单列表页面的过滤组件布局，采用 flex 布局并增加
  间距；新增“重置”按钮方便清空筛选条件。
- 将服务器列表从 Vue 2.x 转为 Vue 3 组件，保留模拟数据及获取逻辑。

### 自检

- **用户管理**：支持注册新用户、登录、退出，角色字段与原系统一致；
  目前仅进行客户端验证，尚未接入后端认证。
- **任务管理**：可创建、查看、编辑、删除任务；支持关键词搜索、状
  态/位置/周期筛选、截止日期范围筛选以及多种排序；功能与原系
  统匹配。
- **工单管理**：可创建、查看、编辑、删除工单；支持关键词搜索、状
  态/优先级/上报人筛选以及日期范围筛选；与原系统对应。
- **服务器监控**：保留服务器列表展示功能，模拟了服务器在线与离
  线状态；暂未实现监控指标和告警统计，与原系统一致。
- **标签管理**：实现了基础增删改查功能，为后续数据实体打标签提
  供支撑。原系统的标签页面功能得到迁移并改进。
- **其他模块**：巡检、资产、通知、知识库、消息、报表、用户、日
  志等页面目前为占位，符合原系统中尚未开发或展示较简单的状
  态。

综合自检判断，目前已经将 IDC PWA 2.5 中的主要功能完整迁移到
Vue 3 框架下，界面风格保留了暗色侧边栏与亮色内容区的对比，所
有数据均通过 Pinia store 与 `localStorage` 持久化，符合 PWA 要
求。

### 待优化

1. **后端接口**：目前所有数据均存在于本地浏览器，缺乏与后端的数
   据同步。建议在后续版本中引入 REST API 或 GraphQL，以实现
   实时数据共享、多用户协作和权限控制。
2. **权限与角色管理**：当前仅在注册时记录用户角色，并未对不同角
   色的功能访问进行限制。后续可通过路由守卫或组件权限控制实
   现更细粒度的访问控制。
3. **UI 细节**：根据使用反馈调整表单验证提示、日期选择器格式、
   支持批量操作等；同时可引入响应式布局提升在移动设备上的体
   验。
4. **i18n 国际化**：为适配多语言环境，可引入 `vue-i18n` 并抽取文
   字资源，支持中英文切换。
5. **PWA 优化**：进一步配置 `vite-plugin-pwa`，实现离线缓存策略、
   自动更新提示等，提高应用可用性。
6. **数据可视化**：在首页引入图表库（如 ECharts）展示服务器健康
   状态、告警统计及资源占用率，使信息更直观。

### 启动方式

1. 安装依赖：在项目根目录执行 `npm install`，安装 Vue、Element
   Plus、Pinia 等依赖。
2. 本地开发：运行 `npm run dev` 启动开发服务器，访问提示的本地地
   址（通常为 `http://localhost:5173`）。登录注册信息保存在浏览
   器 `localStorage` 中。
3. 构建生产包：执行 `npm run build` 生成静态文件，可部署到任意
   静态服务器或 PWA 平台。若要预览构建结果，可运行
   `npm run preview`。


### 修复

- 任务日期格式统一处理，避免前端解析问题。

